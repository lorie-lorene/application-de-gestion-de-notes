<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">
<head>
	<title>register_student</title>
	<link rel="stylesheet" type="text/css" href="css/styleAnonymat.css">
	<link href="https://fonts.googleapis.com/css?family=Poppins:600&display=swap" rel="stylesheet">
	<script src="https://kit.fontawesome.com/a81368914c.js"></script>
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

<script>
        $(document).ready(function() {
            $('#nom').on("input",function() {
                var nom= $(this).val();
                if (nom.length>=1) {
                    $.ajax({
                    	type:'GET',
                        url: '/suggestions',
                        data: { nom: nom },
                        success: function(data) {
                            $('#suggestions').empty();
                            data.forEach(function(suggestion) {

                                $('#suggestions').append("<option value='"+ suggestion + "'>");
                            console.log(suggestion);
                            });
// console.log("oki");
    $("option").on("changes",function(){
		console.log("oki");
        var suggestion=$(this).val();
        $("#nom").val(suggestion);
        $.ajax({
            url:'/suggestions/etudiants/matricule',
            data:{nom:suggestion},
            success:function(matricule){
                $("#matricule").val(matricule);
                console.log(matricule);
            }
        })
    })

 }
  });

                } 
            });
       })

    </script>


	<img class="wave" src="img/wave.png">
	<div class="container">
		<div class="img">
			<img src="img/bg.svg">
		</div>
		<div class="login-content">
			<form th:action="@{/enregistrer}" th:object="${participes}" method="post">
				<img src="img/avatar.svg">
				<h3 class="title" > <em>SESSION NORMALE </em></h3>
           		<div class="input-div one">
           		   <div class="i">
           		   		<i class="fas fa-user"></i>
           		   </div>
           		   <div class="div">
           		   		<h5>Noms de l'etudiant</h5>
           		   		 <input type="text" name="nomEtudiant" id="nom" autocomplete="off"  list="suggestions" th:value="${participes.nomEtudiant}" class="input" required />
           
           		   </div>
			
             <datalist id="suggestions"> </datalist>
           		</div>
           		<div class="input-div pass">
           		   <div class="i"> 
           		    	<i class="fas fa-lock"></i>
           		   </div>
           		   <div class="div">
           		    	<h5>Matricule</h5>
           		    	<input type="text"  th:field="*{matricule}" autocomplete="off" class="input" required/>
            	   </div>
            	</div>
            	<a href="#">see your registration?</a>
            	<input type="submit" class="btn" value="Save">
			
            </form>
        </div>
    </div>
    <script type="text/javascript" src="js/main01.js"></script>
</body>
</html>
